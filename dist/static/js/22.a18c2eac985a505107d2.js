webpackJsonp([22],{Bok0:function(e,t,n){var a=n("u0q1");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("5530ef3c",a,!1,{})},OQAo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),r=n.n(a),i=n("//Fk"),o=n.n(i),l=n("mvHQ"),s=n.n(l),A=n("OT9B"),c=n("1CjK"),d=n("3r8y"),f=n("Gtft"),C=n("6D10"),b={name:"contract-data",extends:d.a,created:function(){var e=this;this.$nextTick(function(){e.params=e.$route.params;var t=e.params;t&&t.id&&(e.id=t.id),e.getPage({})})},data:function(){return{initData:null,params:this.$route.params,id:"",form:{type:"add",data:[]}}},activated:function(){f.a.setRight()},methods:{isEdit:function(){return this.initData!==s()(this.form)},onBtnClick:function(){var e=this,t=[];this.$refs.va.forEach(function(e){e.rules&&!Object(C.g)(e)&&t.push(e.changeV())}),o.a.all(t).then(function(t){t.every(function(e){return e})&&(console.log(e.form,"校验成功并提交数据"),e.$RouteUtil.contractUpload(r()({},e.params,{data:e.form,clueId:e.id})))})},getPage:function(e){var t=this;console.log(e);var n=this.menu,a=n.orderType,r=n.clueAdditionalConfiguration,i=n.clueIntentionType,o=n.clueShoppingWay,l=n.gender,d=n.customerOrigin,f=n.customerType;Object(A.i)().then(function(n){console.log(n,"=========================>success2");var A=[];n.forEach(function(e){console.log(e),"contact-add"===e.code&&"add"===t.form.type&&(A=e.fields),"contact-edit"===e.code&&"edit"===t.form.type&&(A=e.fields)}),A.sort(function(e,t){return e.sort-t.sort}),t.allData=A,console.log(A,"=========================>data2");var C=[];C=A.filter(function(e){return"step1"===e.description});var b=[];C.forEach(function(n){var s={attr:n.attr,type:c.a[n.configsObj.type],title:n.name,text:null,value:null,placeholder:n.configsObj.placeholder,indent:!0,columnWidth:n.columnWidth,selData:{source:[{key:"选项一",value:1},{key:"选项二",value:2}],selectedKey:"下单客户1"}};if(e[s.attr]){if(s.value=e[s.attr],s.text=e[s.attr],"gender"===s.attr&&(s.text=l[e[s.attr].code]&&l[e[s.attr].code].name,s.value=e[s.attr].code),"vehicleModelId"===s.attr&&(s.text=e[s.attr].carName,s.value=e[s.attr].vehicleModelId,getModelDetail(e[s.attr].vehicleModelId).then(function(e){return t.onCarModel({data:e})}).catch(function(e){return console.log(e)})),"appearance"===s.attr&&(s.text=JSON.parse(e[s.attr])&&JSON.parse(e[s.attr]).name,s.value=e[s.attr]?tranformColorsComponent(JSON.parse(e[s.attr])):null),"interior"===s.attr&&(s.text=JSON.parse(e[s.attr]).colors&&JSON.parse(e[s.attr]).colors[0].name,s.value=e[s.attr]?tranformColorsComponent(JSON.parse(e[s.attr])):null),"shoppingWay"===s.attr&&(s.text=e[s.attr].name,s.value=e[s.attr].code),"contractUrl"===s.attr){var A=s.value||[];s.value=A.map(function(e){return{url:e}})}if("certificateUrl"===s.attr){var C=s.value||[];s.value=C.map(function(e){return{url:e}})}if("depositVoucherUrl"===s.attr){var m=s.value||[];s.value=m.map(function(e){return{url:e}})}}var u=n.rulesObj[0]&&n.rulesObj[0].value,v={};n.rulesObj.length>0&&n.rulesObj.forEach(function(e){"required"===e.type?v[e.type]=e.value:"pattern"===e.type&&(v[e.value]=!0)});var p=v;switch(u&&(s.required=u),p&&(s.rules=p),n.attr){case"vehicleModelId":s.selData.source=r.map(function(e){return{key:e.name,value:e.code}});break;case"intentionType":case"intentionGrade":s.selData.source=i.map(function(e){return{key:e.name,value:e.code}});break;case"shoppingWay":s.selData.source=o.map(function(e){return{key:e.name,value:e.code}});break;case"appearance":case"interior":s.selData=null;break;case"gender":s.selData.source=l.map(function(e){return{key:e.name,value:e.code}});break;case"origin":s.selData.source=d.map(function(e){return{key:e.name,value:e.code}});break;case"type":s.selData.source=f.map(function(e){return{key:e.name,value:e.code}});break;case"orderType":s.selData.source=a.map(function(e){return{key:e.name,value:e.code}})}b.push(s)}),t.form.data=b,console.log(t.form.data,"----------\x3e>>>>>>>>>"),t.initData=s()(t.form)}).catch(function(e){console.log(e,"==============================>err")})}}},m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container app-init"},[n("div",{staticClass:"input-box2"},[n("cube-scroll",[e._l(e.form.data,function(t,a){return[n("yi-input",e._b({key:a,ref:"va",refInFor:!0,attrs:{value:t.value,indent:!0},on:{"update:value":function(n){e.$set(t,"value",n)}},model:{value:t.text,callback:function(n){e.$set(t,"text",n)},expression:"item.text"}},"yi-input",t,!1))]})],2)],1),e._v(" "),n("yi-btn-box",{attrs:{name:"下一步"},on:{onBtnClick:e.onBtnClick}})],1)};m._withStripped=!0;var u={render:m,staticRenderFns:[]},v=u;var p=!1;var E=n("VU/8")(b,v,!1,function(e){p||n("Bok0")},"data-v-f1eb007c",null);E.options.__file="src\\modules\\clue\\contract\\data\\index.vue";t.default=E.exports},u0q1:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,'\n.scroll-box[data-v-f1eb007c] {\n  -webkit-overflow-scrolling: touch;\n  overflow-y: auto;\n}\n.app-init[data-v-f1eb007c] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flex-center[data-v-f1eb007c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.full-parent[data-v-f1eb007c] {\n  width: 100%;\n  height: 100%;\n}\n.slide-go-leave[data-v-f1eb007c] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-go-enter-active[data-v-f1eb007c],\n.slide-go-leave-active[data-v-f1eb007c],\n.slide-back-enter-active[data-v-f1eb007c],\n.slide-back-leave-active[data-v-f1eb007c] {\n  -webkit-transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  -webkit-transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1), -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n}\n.slide-go-leave-to[data-v-f1eb007c] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-go-enter[data-v-f1eb007c] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-go-enter-to[data-v-f1eb007c] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.slide-back-leave[data-v-f1eb007c] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-back-leave-to[data-v-f1eb007c] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-back-enter[data-v-f1eb007c] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-back-enter-to[data-v-f1eb007c] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.fade-enter-active[data-v-f1eb007c] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-leave-active[data-v-f1eb007c] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-enter[data-v-f1eb007c],\n.fade-leave-to[data-v-f1eb007c] {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.md-radio-content[data-v-f1eb007c] {\n  font-size: 0.597333333333333rem;\n}\ninput[data-v-f1eb007c]::-webkit-input-placeholder {\n  color: #b0b0b0;\n}\n.box-shadow[data-v-f1eb007c] {\n  -webkit-box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n  box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n}\n.touch-opacity[data-v-f1eb007c]:active {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n.ellipsis[data-v-f1eb007c] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.container[data-v-f1eb007c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n  height: 100%;\n}\n.container .input-box2[data-v-f1eb007c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: calc(100% - 50px);\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n}\n.container .warm[data-v-f1eb007c] {\n  padding-left: 0.597333333333333rem;\n  font-size: 0.512rem;\n  color: #b0b0b0;\n  text-align: left;\n  line-height: 1.109333333333333rem;\n  padding-bottom: 2.005333333333334rem;\n  margin-top: 0.256rem;\n}',"",{version:3,sources:["D:/Work/myGithub/vue-wap-erp/src/modules/clue/contract/data/index.vue"],names:[],mappings:";AACA;EACE,kCAAkC;EAClC,iBAAiB;CAClB;AACD;EACE,mBAAmB;EACnB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,OAAO;CACR;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;CAC7B;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,wCAAwC;EACxC,wCAAwC;EACxC,gCAAgC;CACjC;AACD;;;;EAIE,iEAAiE;EACjE,yEAAyE;EACzE,iEAAiE;EACjE,yDAAyD;EACzD,+GAA+G;CAChH;AACD;EACE,4CAA4C;EAC5C,4CAA4C;EAC5C,oCAAoC;CACrC;AACD;EACE,2CAA2C;EAC3C,2CAA2C;EAC3C,mCAAmC;CACpC;AACD;EACE,yCAAyC;EACzC,yCAAyC;EACzC,iCAAiC;CAClC;AACD;EACE,wCAAwC;EACxC,wCAAwC;EACxC,gCAAgC;CACjC;AACD;EACE,2CAA2C;EAC3C,2CAA2C;EAC3C,mCAAmC;CACpC;AACD;EACE,4CAA4C;EAC5C,4CAA4C;EAC5C,oCAAoC;CACrC;AACD;EACE,yCAAyC;EACzC,yCAAyC;EACzC,iCAAiC;CAClC;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;;EAEE,WAAW;EACX,iEAAiE;EACjE,yBAAyB;CAC1B;AACD;EACE,gCAAgC;CACjC;AACD;EACE,eAAe;CAChB;AACD;EACE,wEAAwE;EACxE,gEAAgE;CACjE;AACD;EACE,aAAa;EACb,kEAAkE;EAClE,0BAA0B;CAC3B;AACD;EACE,iBAAiB;EACjB,wBAAwB;EACxB,oBAAoB;CACrB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;EAC/B,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,iBAAiB;EACjB,aAAa;CACd;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;EAC1B,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;EAC/B,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,iBAAiB;CAClB;AACD;EACE,mCAAmC;EACnC,oBAAoB;EACpB,eAAe;EACf,iBAAiB;EACjB,kCAAkC;EAClC,qCAAqC;EACrC,qBAAqB;CACtB",file:"index.vue",sourcesContent:['\n.scroll-box[data-v-f1eb007c] {\n  -webkit-overflow-scrolling: touch;\n  overflow-y: auto;\n}\n.app-init[data-v-f1eb007c] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flex-center[data-v-f1eb007c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.full-parent[data-v-f1eb007c] {\n  width: 100%;\n  height: 100%;\n}\n.slide-go-leave[data-v-f1eb007c] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-go-enter-active[data-v-f1eb007c],\n.slide-go-leave-active[data-v-f1eb007c],\n.slide-back-enter-active[data-v-f1eb007c],\n.slide-back-leave-active[data-v-f1eb007c] {\n  -webkit-transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  -webkit-transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1), -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n}\n.slide-go-leave-to[data-v-f1eb007c] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-go-enter[data-v-f1eb007c] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-go-enter-to[data-v-f1eb007c] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.slide-back-leave[data-v-f1eb007c] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-back-leave-to[data-v-f1eb007c] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-back-enter[data-v-f1eb007c] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-back-enter-to[data-v-f1eb007c] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.fade-enter-active[data-v-f1eb007c] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-leave-active[data-v-f1eb007c] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-enter[data-v-f1eb007c],\n.fade-leave-to[data-v-f1eb007c] {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.md-radio-content[data-v-f1eb007c] {\n  font-size: 0.597333333333333rem;\n}\ninput[data-v-f1eb007c]::-webkit-input-placeholder {\n  color: #b0b0b0;\n}\n.box-shadow[data-v-f1eb007c] {\n  -webkit-box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n  box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n}\n.touch-opacity[data-v-f1eb007c]:active {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n.ellipsis[data-v-f1eb007c] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.container[data-v-f1eb007c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n  height: 100%;\n}\n.container .input-box2[data-v-f1eb007c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: calc(100% - 50px);\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n}\n.container .warm[data-v-f1eb007c] {\n  padding-left: 0.597333333333333rem;\n  font-size: 0.512rem;\n  color: #b0b0b0;\n  text-align: left;\n  line-height: 1.109333333333333rem;\n  padding-bottom: 2.005333333333334rem;\n  margin-top: 0.256rem;\n}'],sourceRoot:""}])}});