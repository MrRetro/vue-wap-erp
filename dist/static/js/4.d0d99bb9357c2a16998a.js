webpackJsonp([4],{"/g1/":function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,'\n.scroll-box[data-v-49b6a7ef] {\n  -webkit-overflow-scrolling: touch;\n  overflow-y: auto;\n}\n.app-init[data-v-49b6a7ef] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flex-center[data-v-49b6a7ef] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.full-parent[data-v-49b6a7ef] {\n  width: 100%;\n  height: 100%;\n}\n.slide-go-leave[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-go-enter-active[data-v-49b6a7ef],\n.slide-go-leave-active[data-v-49b6a7ef],\n.slide-back-enter-active[data-v-49b6a7ef],\n.slide-back-leave-active[data-v-49b6a7ef] {\n  -webkit-transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  -webkit-transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1), -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n}\n.slide-go-leave-to[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-go-enter[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-go-enter-to[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.slide-back-leave[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-back-leave-to[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-back-enter[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-back-enter-to[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.fade-enter-active[data-v-49b6a7ef] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-leave-active[data-v-49b6a7ef] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-enter[data-v-49b6a7ef],\n.fade-leave-to[data-v-49b6a7ef] {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.md-radio-content[data-v-49b6a7ef] {\n  font-size: 0.597333333333333rem;\n}\ninput[data-v-49b6a7ef]::-webkit-input-placeholder {\n  color: #b0b0b0;\n}\n.box-shadow[data-v-49b6a7ef] {\n  -webkit-box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n  box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n}\n.touch-opacity[data-v-49b6a7ef]:active {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n.ellipsis[data-v-49b6a7ef] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.container[data-v-49b6a7ef] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n  height: 100%;\n}\n.container .section-title[data-v-49b6a7ef] {\n  width: 100%;\n  font-size: 0.682666666666667rem;\n  color: #31363b;\n  text-align: left;\n  margin: 0 0.597333333333333rem;\n  font-family: "PingFang SC";\n  font-weight: 500;\n}\n.container .section-margin-top[data-v-49b6a7ef] {\n  margin-top: 1.194666666666667rem;\n}\n.container .input-box2[data-v-49b6a7ef] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: calc(100% - 50px);\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n}\n.container .input-box2 .content[data-v-49b6a7ef] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .id-box[data-v-49b6a7ef] {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .in-box[data-v-49b6a7ef] {\n  width: 100%;\n}\n.container .input-box2 .content .self[data-v-49b6a7ef] {\n  width: 50%;\n}\n.container .input-box2 .content .self:nth-child(even) .input-box[data-v-49b6a7ef] {\n  margin-right: 0.597333333333333rem;\n}\n.container .p-warm[data-v-49b6a7ef] {\n  width: 100%;\n  background-color: #fdfcea;\n  height: 1.194666666666667rem;\n  line-height: 1.194666666666667rem;\n  font-size: 0.512rem;\n  color: #ef465b;\n}\n.container .space-box[data-v-49b6a7ef] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  height: 3.328rem;\n}',"",{version:3,sources:["D:/Work/myGithub/vue-wap-erp/src/modules/clue/add/index.vue"],names:[],mappings:";AACA;EACE,kCAAkC;EAClC,iBAAiB;CAClB;AACD;EACE,mBAAmB;EACnB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,OAAO;CACR;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;CAC7B;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,wCAAwC;EACxC,wCAAwC;EACxC,gCAAgC;CACjC;AACD;;;;EAIE,iEAAiE;EACjE,yEAAyE;EACzE,iEAAiE;EACjE,yDAAyD;EACzD,+GAA+G;CAChH;AACD;EACE,4CAA4C;EAC5C,4CAA4C;EAC5C,oCAAoC;CACrC;AACD;EACE,2CAA2C;EAC3C,2CAA2C;EAC3C,mCAAmC;CACpC;AACD;EACE,yCAAyC;EACzC,yCAAyC;EACzC,iCAAiC;CAClC;AACD;EACE,wCAAwC;EACxC,wCAAwC;EACxC,gCAAgC;CACjC;AACD;EACE,2CAA2C;EAC3C,2CAA2C;EAC3C,mCAAmC;CACpC;AACD;EACE,4CAA4C;EAC5C,4CAA4C;EAC5C,oCAAoC;CACrC;AACD;EACE,yCAAyC;EACzC,yCAAyC;EACzC,iCAAiC;CAClC;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;;EAEE,WAAW;EACX,iEAAiE;EACjE,yBAAyB;CAC1B;AACD;EACE,gCAAgC;CACjC;AACD;EACE,eAAe;CAChB;AACD;EACE,wEAAwE;EACxE,gEAAgE;CACjE;AACD;EACE,aAAa;EACb,kEAAkE;EAClE,0BAA0B;CAC3B;AACD;EACE,iBAAiB;EACjB,wBAAwB;EACxB,oBAAoB;CACrB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;EAC/B,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,iBAAiB;EACjB,aAAa;CACd;AACD;EACE,YAAY;EACZ,gCAAgC;EAChC,eAAe;EACf,iBAAiB;EACjB,+BAA+B;EAC/B,2BAA2B;EAC3B,iBAAiB;CAClB;AACD;EACE,iCAAiC;CAClC;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;EAC1B,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;EAC/B,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,iBAAiB;CAClB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,+BAA+B;EAC/B,8BAA8B;MAC1B,wBAAwB;UACpB,oBAAoB;EAC5B,oBAAoB;MAChB,gBAAgB;CACrB;AACD;EACE,YAAY;EACZ,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,+BAA+B;EAC/B,8BAA8B;MAC1B,wBAAwB;UACpB,oBAAoB;EAC5B,oBAAoB;MAChB,gBAAgB;CACrB;AACD;EACE,YAAY;CACb;AACD;EACE,WAAW;CACZ;AACD;EACE,mCAAmC;CACpC;AACD;EACE,YAAY;EACZ,0BAA0B;EAC1B,6BAA6B;EAC7B,kCAAkC;EAClC,oBAAoB;EACpB,eAAe;CAChB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,YAAY;EACZ,iBAAiB;CAClB",file:"index.vue",sourcesContent:['\n.scroll-box[data-v-49b6a7ef] {\n  -webkit-overflow-scrolling: touch;\n  overflow-y: auto;\n}\n.app-init[data-v-49b6a7ef] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flex-center[data-v-49b6a7ef] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.full-parent[data-v-49b6a7ef] {\n  width: 100%;\n  height: 100%;\n}\n.slide-go-leave[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-go-enter-active[data-v-49b6a7ef],\n.slide-go-leave-active[data-v-49b6a7ef],\n.slide-back-enter-active[data-v-49b6a7ef],\n.slide-back-leave-active[data-v-49b6a7ef] {\n  -webkit-transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  -webkit-transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1), -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n}\n.slide-go-leave-to[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-go-enter[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-go-enter-to[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.slide-back-leave[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-back-leave-to[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-back-enter[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-back-enter-to[data-v-49b6a7ef] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.fade-enter-active[data-v-49b6a7ef] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-leave-active[data-v-49b6a7ef] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-enter[data-v-49b6a7ef],\n.fade-leave-to[data-v-49b6a7ef] {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.md-radio-content[data-v-49b6a7ef] {\n  font-size: 0.597333333333333rem;\n}\ninput[data-v-49b6a7ef]::-webkit-input-placeholder {\n  color: #b0b0b0;\n}\n.box-shadow[data-v-49b6a7ef] {\n  -webkit-box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n  box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n}\n.touch-opacity[data-v-49b6a7ef]:active {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n.ellipsis[data-v-49b6a7ef] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.container[data-v-49b6a7ef] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n  height: 100%;\n}\n.container .section-title[data-v-49b6a7ef] {\n  width: 100%;\n  font-size: 0.682666666666667rem;\n  color: #31363b;\n  text-align: left;\n  margin: 0 0.597333333333333rem;\n  font-family: "PingFang SC";\n  font-weight: 500;\n}\n.container .section-margin-top[data-v-49b6a7ef] {\n  margin-top: 1.194666666666667rem;\n}\n.container .input-box2[data-v-49b6a7ef] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: calc(100% - 50px);\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n}\n.container .input-box2 .content[data-v-49b6a7ef] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .id-box[data-v-49b6a7ef] {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .in-box[data-v-49b6a7ef] {\n  width: 100%;\n}\n.container .input-box2 .content .self[data-v-49b6a7ef] {\n  width: 50%;\n}\n.container .input-box2 .content .self:nth-child(even) .input-box[data-v-49b6a7ef] {\n  margin-right: 0.597333333333333rem;\n}\n.container .p-warm[data-v-49b6a7ef] {\n  width: 100%;\n  background-color: #fdfcea;\n  height: 1.194666666666667rem;\n  line-height: 1.194666666666667rem;\n  font-size: 0.512rem;\n  color: #ef465b;\n}\n.container .space-box[data-v-49b6a7ef] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  height: 3.328rem;\n}'],sourceRoot:""}])},jzkO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),o=n.n(a),r=n("woOf"),i=n.n(r),l=n("pFYg"),s=n.n(l),d=n("//Fk"),c=n.n(d),A=n("mvHQ"),f=n.n(A),b=n("OT9B"),m=n("rMyF"),u=n("FWz8"),C=n("1CjK"),p=n("W8/A"),v=n("3r8y"),h=n("Gtft"),x=n("N6PA"),B=n("6D10"),g={name:"clue-add",extends:v.a,created:function(){var e=this;this.params=this.$route.params;var t=this.params;console.log(t),t&&t.id?(this.id=t.id,this.form.type="edit"):this.form.type="add",t.obj&&t.obj.userId&&(this.userId=t.obj.userId,this.form.info[0].text=t.obj.name,this.form.info[0].value=t.obj.name,this.form.info[1].text=t.obj.mobile,this.form.info[1].value=t.obj.mobile,this.form.info[2].text=1===t.obj.gender?"女":"男",this.form.info[2].value=t.obj.gender),t.customerId?(this.userId=t.customerId,this.selClueFrom=!0):this.selClueFrom=!1,"add"===this.form.type?(t.customerId&&Object(m.d)(t.customerId).then(function(t){e.form.info[0].text=t.name,e.form.info[0].value=t.name,e.form.info[1].text=t.mobile,e.form.info[1].value=t.mobile,e.form.info[2].text=t.gender.name,e.form.info[2].value=t.gender.code}).catch(function(e){console.log(e)}),this.getPage({})):Object(b.h)(this.id).then(function(t){e.userId=t.customerId,console.log(t,"111222333"),e.whetherOrder=t.whetherOrder,e.whetherOrder?(e.form.info[0].disable=!0,e.form.info[1].disable=!0,e.form.info[2].disable=!0):(e.form.info[0].disable=!1,e.form.info[1].disable=!1,e.form.info[2].disable=!1),e.getPage(t),e.edit=t,e.intentionType=t.intentionType.code}).catch(function(e){console.log(e)})},computed:{btnName:function(){return this.id?"保   存":"确认提交"}},activated:function(){h.a.setRight()},data:function(){return{params:this.$route.params,initData:null,id:"",userId:"",selClueFrom:!1,intentionType:0,carInfo:null,whetherOrder:!1,form:{type:"add",info:[{attr:"name",type:"text",title:"客户名称",text:"",value:null,placeholder:"请选择客户名称",rules:{required:!0},required:!0,indent:!1,disable:!0},{attr:"mobile",type:"text",title:"联系电话",text:null,value:null,placeholder:"客户联系电话",rules:{required:!0,mobile:!0},required:!0,indent:!1,disable:!0},{attr:"gender",type:"select",title:"性别",text:null,value:null,placeholder:"请选择性别",rules:{required:!0},selData:{source:[]},required:!0,indent:!1,disable:!0}],data:[]},edit:null}},methods:{isEdit:function(){return this.initData!==f()(this.form)},onBtnClick:function(){var e=this;console.log("新建线索1"),console.log(this.$refs.va);var t=[];this.$refs.va.forEach(function(e){e.rules&&!Object(B.g)(e)&&t.push(e.changeV())}),this.whetherOrder||this.$refs.info.forEach(function(e){e.rules&&!Object(B.g)(e)&&t.push(e.changeV())}),c.a.all(t).then(function(t){console.log("新建线索2",t);var n=t.every(function(e){return e});if(console.log(n),n){console.log(e.form,"校验成功并提交数据");var a={};e.form.data.forEach(function(e){if("group"!==e.attr){var t="";t=e.value?e.value:0===e.value?0:e.text,console.log(t,"item"),"appearance"!==e.attr&&"interior"!==e.attr||(t="无"===t?null:t&&f()(t)||""),"belongStoreId"===e.attr&&("object"===s()(e.value)?t=e.value&&e.value.id:"string"==typeof e.value&&(t=e.value&&JSON.parse(e.value)&&JSON.parse(e.value).id)),a[e.attr]=t,"vehicleModelId"===e.attr&&(a.carName=e.text,a.vehicleModelId=e.value),"intentionGrade"===e.attr&&"string"==typeof e.value&&(e.intentionGrade=parseInt(e.value))}}),a.responsibleId=a.responsibleId||"","number"==typeof a.belongPlaceId&&(a.belongPlaceId=a.belongPlaceId.toString()),a.customerId=e.userId,a.intentionType=e.intentionType,2===a.intentionType&&(delete a.vehicleModelId,delete a.carName),console.log(a,"校验成功并提交数据--01"),e.carInfo&&(a=i()({},a,e.carInfo)),a.intentionGrade||delete a.intentionGrade,"add"===e.form.type?e.selClueFrom?Object(b.a)(a).then(function(){e.params.onSuccess&&e.params.onSuccess(),e.$router.go(-1)}).catch(function(e){console.log(e,"--------02---------")}):Object(b.a)(a).then(function(t){console.log(t),e.$RouteUtil.clueAddSuccess(o()({},e.params,{name:"新建线索",id:t.id,clueNo:t.clueNo})),e.params.onSuccess&&e.params.onSuccess(),console.log(t,"--------01---------")}).catch(function(e){console.log(e,"--------02---------")}):"edit"===e.form.type&&(e.whetherOrder||Object(b.e)({id:e.userId,name:e.form.info[0].text,mobile:e.form.info[1].text,gender:e.form.info[2].value,isOverride:!0}).then(function(e){}).catch(function(e){return console.log(e)}),a.id=e.id,a.customerId=e.edit.customerId,console.log(a,"==>edit items"),Object(b.d)(a).then(function(){e.params.onSuccess&&e.params.onSuccess(a),e.$router.go(-1)}).catch(function(e){return console.log(e)}))}})},onGetMan:function(e,t){var n=this;console.log(e),e&&Object(u.g)(e).then(function(e){console.log(e,"ddddd"),n.form.data.forEach(function(t,a){"belongStoreId"===t.attr&&(n.form.data[a].selData.source=e.stores.map(function(t,n){return{key:t.name,value:o()({id:t.id},e.areas[n])}}))}),t||n.form.data.forEach(function(e,t){"belongStoreId"!==e.attr&&"belongPlaceId"!==e.attr||(n.form.data[t].text="",n.form.data[t].value="")}),t&&(n.initData=f()(n.form))}).catch(function(e){return console.log(e)})},onStore:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(console.log(void 0===e?"undefined":s()(e),"==>000"),"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof e&&(e=JSON.parse(e)),console.log(void 0===e?"undefined":s()(e),"==>000==>000"),this.form.data.forEach(function(a,o){"belongPlaceId"===a.attr&&(n||(console.log(e,"==>666"),console.log(t.form.data[o],"==>111"),console.log(t.form.data[o].attr,"==>222"),console.log(e.address,"==>333"),console.log(e.codes,"==>444"),console.log(e.codes[e.codes.length-1],"==>555"),t.form.data[o].text=e.address,t.form.data[o].value=e.codes&&""+e.codes[e.codes.length-1]))}))},onCarModel:function(e,t){var n=this;console.log(e,"==>colors");var a=e.data.innerColors,o=e.data.outerColors;this.form.data.forEach(function(e,r){"appearance"===e.attr&&(t||(n.form.data[r].text=null,n.form.data[r].value=null),o?(n.form.data[r].selData=o,n.form.data[r].disable=!1):(n.form.data[r].selData=null,n.form.data[r].disable=!0,n.form.data[r].text="无")),"interior"===e.attr&&(t||(n.form.data[r].text=null,n.form.data[r].value=null),a?(n.form.data[r].selData=a,n.form.data[r].disable=!1):(n.form.data[r].selData=null,n.form.data[r].disable=!0,n.form.data[r].text="无"))}),e.id||e.data.id?this.intentionType=1:(this.intentionType=2,this.carInfo=e.data),t&&(this.initData=f()(this.form))},getPage:function(e){var t=this;console.log("--------------------"),console.log(e);var n=this.menu,a=n.followUpTarget,o=[],r=n.clueAdditionalConfiguration,i=n.clueIntentionType,l=n.clueIntentionGrade,s=n.clueShoppingWay,d=n.gender,c=n.customerOrigin,A=n.customerType;this.form.info[2].selData.source=d.map(function(e){return{key:e.name,value:e.code}}),e.name&&(this.form.info[0].text=e.name),e.mobile&&(this.form.info[1].text=e.mobile),e.gender&&(this.form.info[2].text=e.gender.name,this.form.info[2].value=e.gender.code),Object(b.f)().then(function(n){console.log(n,"=========================>success");var b=[];n.forEach(function(e){"create-clue"===e.code&&(b=e.fields),"edit-clue"===e.code&&(b=e.fields)}),b.sort(function(e,t){return e.sort-t.sort}),console.log(b,"=========================>data");var m=[];b.forEach(function(n){var f={attr:n.attr,type:C.a[n.configsObj.type],title:n.name,text:null,value:null,placeholder:n.configsObj.placeholder,indent:!0,columnWidth:n.columnWidth,selData:{source:[],selectedKey:""}};if("vehicleModelId"===f.attr&&t.selClueFrom&&("add"===t.params.type?f.singleChoose=!1:f.singleChoose=!0),e[f.attr]){if(f.value=e[f.attr],f.text=e[f.attr],"intentionType"===f.attr&&(f.text=e[f.attr].name,f.value=e[f.attr].code),"intentionGrade"===f.attr&&(f.text=e[f.attr].name,f.value=e[f.attr].code),"shoppingWay"===f.attr&&(f.text=e[f.attr].name,f.value=e[f.attr].code),"appearance"===f.attr){try{f.text=JSON.parse(e[f.attr]).name,f.value=JSON.parse(e[f.attr])}catch(e){f.text=null}try{f.value=JSON.parse(e[f.attr]),f.value=JSON.parse(e[f.attr])}catch(e){f.value=null}}if("interior"===f.attr){try{var b=JSON.parse(e[f.attr]).colors[0].name;JSON.parse(e[f.attr]).colors[1]&&(b+="/"+JSON.parse(e[f.attr]).colors[1].name),f.text=b}catch(e){f.text=null}try{f.value=JSON.parse(e[f.attr])}catch(e){f.value=null}}"area"===f.attr&&(f.text=e[f.attr].name,f.value=e[f.attr].code),"belongStoreId"===f.attr&&(f.text=e.storeSimpleDTO&&e.storeSimpleDTO.storeName,f.value=e.storeSimpleDTO&&{id:e.storeSimpleDTO.id}),"remark"===f.attr&&(f.text=Object(B.b)(e[f.attr]),f.value=Object(B.b)(e[f.attr]))}var u=!1;n.rulesObj&&n.rulesObj.forEach(function(e){"required"===e.type&&(u=!0)});var p=Object(x.a)(n);switch(u&&(f.required=u),p&&(f.rules=p),n.attr){case"target":f.selData.source=a.map(function(e){return{key:e.name,value:e.code}});break;case"purpose":f.selData.source=o;break;case"vehicleModelId":f.selData.source=r.map(function(e){return{key:e.name,value:e.code}});break;case"intentionType":f.selData.source=i.map(function(e){return{key:e.name,value:e.code}});break;case"intentionGrade":f.selData.source=l.map(function(e){return{key:e.name,value:e.code}}).filter(function(e){return 0!==e.value});break;case"shoppingWay":f.selData.source=s.map(function(e){return{key:e.name,value:e.code}});break;case"appearance":case"interior":f.selData=null;break;case"gender":f.selData.source=d.map(function(e){return{key:e.name,value:e.code}});break;case"origin":f.selData.source=c.map(function(e){return{key:e.name,value:e.code}});break;case"type":f.selData.source=A.map(function(e){return{key:e.name,value:e.code}})}m.push(f)}),t.form.data=m,console.log(t.form.data,"----------\x3e>>>>>>>>>"),"edit"===t.form.type&&t.form.data.forEach(function(n,a){"vehicleModelId"===n.attr&&(t.form.data[a].text=e.carName,t.form.data[a].value=e.vehicleModelId,e.vehicleModelId&&"模糊意向"!==e.carName&&Object(p.c)(e.vehicleModelId).then(function(e){return t.onCarModel({data:e},!0)}).catch(function(e){return console.log(e)})),"responsibleId"===n.attr&&(t.form.data[a].text=e.responsibleName,t.form.data[a].value=e.responsibleId,e.responsibleId&&t.onGetMan(e.responsibleId,!0)),"belongPlaceId"===n.attr&&(t.form.data[a].text=e.belongPlaceName,t.form.data[a].value=e.belongPlaceId)}),t.initData=f()(t.form)}).catch(function(e){console.log(e,"==============================>err")})}}},w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"input-box2"},[n("cube-scroll",[n("div",{staticClass:"content"},[e._l(e.form.data,function(t,a){return["customerId"===t.attr?n("div",{key:"index"+a,staticClass:"id-box"},e._l(e.form.info,function(t,a){return n("div",{key:"index2"+a,staticClass:"in-box",class:{self:50===t.columnWidth}},[n("yi-input",e._b({ref:"info",refInFor:!0,attrs:{value:t.value,indent:!0,selData:t.selData||null,clearMR:50===t.columnWidth},on:{"update:value":function(n){e.$set(t,"value",n)}},model:{value:t.text,callback:function(n){e.$set(t,"text",n)},expression:"item1.text"}},"yi-input",t,!1))],1)})):"groupHeader"===t.type?n("div",{key:"index"+a,staticClass:"section-title section-margin-top"},[e._v("\n            "+e._s(t.title)+"\n          ")]):n("div",{key:"index"+a,staticClass:"in-box",class:{self:50===t.columnWidth}},[n("yi-input",e._b({ref:"va",refInFor:!0,attrs:{value:t.value,indent:!0,selData:t.selData||null,clearMR:50===t.columnWidth},on:{"update:value":function(n){e.$set(t,"value",n)},onCarModel:e.onCarModel,onGetMan:e.onGetMan,onStore:e.onStore},model:{value:t.text,callback:function(n){e.$set(t,"text",n)},expression:"item.text"}},"yi-input",t,!1))],1)]}),e._v(" "),n("div",{staticClass:"space-box"})],2)])],1),e._v(" "),n("yi-btn-box",{attrs:{name:e.btnName},on:{onBtnClick:e.onBtnClick}})],1)};w._withStripped=!0;var E={render:w,staticRenderFns:[]},k=E;var y=!1;var D=n("VU/8")(g,k,!1,function(e){y||n("kAqw")},"data-v-49b6a7ef",null);D.options.__file="src\\modules\\clue\\add\\index.vue";t.default=D.exports},kAqw:function(e,t,n){var a=n("/g1/");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("27ac6581",a,!1,{})}});