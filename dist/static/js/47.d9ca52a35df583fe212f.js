webpackJsonp([47],{eC4x:function(t,e,n){(t.exports=n("FZ+f")(!0)).push([t.i,'\n.scroll-box[data-v-022242d9] {\n  -webkit-overflow-scrolling: touch;\n  overflow-y: auto;\n}\n.app-init[data-v-022242d9] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flex-center[data-v-022242d9] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.full-parent[data-v-022242d9] {\n  width: 100%;\n  height: 100%;\n}\n.slide-go-leave[data-v-022242d9] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-go-enter-active[data-v-022242d9],\n.slide-go-leave-active[data-v-022242d9],\n.slide-back-enter-active[data-v-022242d9],\n.slide-back-leave-active[data-v-022242d9] {\n  -webkit-transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  -webkit-transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1), -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n}\n.slide-go-leave-to[data-v-022242d9] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-go-enter[data-v-022242d9] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-go-enter-to[data-v-022242d9] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.slide-back-leave[data-v-022242d9] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-back-leave-to[data-v-022242d9] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-back-enter[data-v-022242d9] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-back-enter-to[data-v-022242d9] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.fade-enter-active[data-v-022242d9] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-leave-active[data-v-022242d9] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-enter[data-v-022242d9],\n.fade-leave-to[data-v-022242d9] {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.md-radio-content[data-v-022242d9] {\n  font-size: 0.597333333333333rem;\n}\ninput[data-v-022242d9]::-webkit-input-placeholder {\n  color: #b0b0b0;\n}\n.box-shadow[data-v-022242d9] {\n  -webkit-box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n  box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n}\n.touch-opacity[data-v-022242d9]:active {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n.ellipsis[data-v-022242d9] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.hide[data-v-022242d9] {\n  display: none;\n}\n.container[data-v-022242d9] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n  height: 100%;\n}\n.container .input-box2[data-v-022242d9] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: calc(100% - 50px);\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n}',"",{version:3,sources:["D:/Work/myGithub/vue-wap-erp/src/modules/clue/contract/upload/index.vue"],names:[],mappings:";AACA;EACE,kCAAkC;EAClC,iBAAiB;CAClB;AACD;EACE,mBAAmB;EACnB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,OAAO;CACR;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;CAC7B;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,wCAAwC;EACxC,wCAAwC;EACxC,gCAAgC;CACjC;AACD;;;;EAIE,iEAAiE;EACjE,yEAAyE;EACzE,iEAAiE;EACjE,yDAAyD;EACzD,+GAA+G;CAChH;AACD;EACE,4CAA4C;EAC5C,4CAA4C;EAC5C,oCAAoC;CACrC;AACD;EACE,2CAA2C;EAC3C,2CAA2C;EAC3C,mCAAmC;CACpC;AACD;EACE,yCAAyC;EACzC,yCAAyC;EACzC,iCAAiC;CAClC;AACD;EACE,wCAAwC;EACxC,wCAAwC;EACxC,gCAAgC;CACjC;AACD;EACE,2CAA2C;EAC3C,2CAA2C;EAC3C,mCAAmC;CACpC;AACD;EACE,4CAA4C;EAC5C,4CAA4C;EAC5C,oCAAoC;CACrC;AACD;EACE,yCAAyC;EACzC,yCAAyC;EACzC,iCAAiC;CAClC;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;;EAEE,WAAW;EACX,iEAAiE;EACjE,yBAAyB;CAC1B;AACD;EACE,gCAAgC;CACjC;AACD;EACE,eAAe;CAChB;AACD;EACE,wEAAwE;EACxE,gEAAgE;CACjE;AACD;EACE,aAAa;EACb,kEAAkE;EAClE,0BAA0B;CAC3B;AACD;EACE,iBAAiB;EACjB,wBAAwB;EACxB,oBAAoB;CACrB;AACD;EACE,cAAc;CACf;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;EAC/B,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,iBAAiB;EACjB,aAAa;CACd;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;EAC1B,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;EAC/B,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,iBAAiB;CAClB",file:"index.vue",sourcesContent:['\n.scroll-box[data-v-022242d9] {\n  -webkit-overflow-scrolling: touch;\n  overflow-y: auto;\n}\n.app-init[data-v-022242d9] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flex-center[data-v-022242d9] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.full-parent[data-v-022242d9] {\n  width: 100%;\n  height: 100%;\n}\n.slide-go-leave[data-v-022242d9] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-go-enter-active[data-v-022242d9],\n.slide-go-leave-active[data-v-022242d9],\n.slide-back-enter-active[data-v-022242d9],\n.slide-back-leave-active[data-v-022242d9] {\n  -webkit-transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  -webkit-transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1), -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n}\n.slide-go-leave-to[data-v-022242d9] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-go-enter[data-v-022242d9] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-go-enter-to[data-v-022242d9] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.slide-back-leave[data-v-022242d9] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-back-leave-to[data-v-022242d9] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-back-enter[data-v-022242d9] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-back-enter-to[data-v-022242d9] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.fade-enter-active[data-v-022242d9] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-leave-active[data-v-022242d9] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-enter[data-v-022242d9],\n.fade-leave-to[data-v-022242d9] {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.md-radio-content[data-v-022242d9] {\n  font-size: 0.597333333333333rem;\n}\ninput[data-v-022242d9]::-webkit-input-placeholder {\n  color: #b0b0b0;\n}\n.box-shadow[data-v-022242d9] {\n  -webkit-box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n  box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n}\n.touch-opacity[data-v-022242d9]:active {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n.ellipsis[data-v-022242d9] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.hide[data-v-022242d9] {\n  display: none;\n}\n.container[data-v-022242d9] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n  height: 100%;\n}\n.container .input-box2[data-v-022242d9] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: calc(100% - 50px);\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n}'],sourceRoot:""}])},jFkF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("//Fk"),r=n.n(a),o=n("mvHQ"),i=n.n(o),l=n("Gtft"),s=n("OT9B"),d=n("t5DY"),A=n("1CjK"),c=n("3r8y"),C=n("I9E5"),f={name:"upload",extends:c.a,created:function(){var t=this;this.$nextTick(function(){t.getPage({})})},mounted:function(){l.a.setTitle({title:"合同资料"})},activated:function(){l.a.setRight()},data:function(){return{initData:null,form:{type:"add",data:[]}}},methods:{isEdit:function(){return this.initData!==i()(this.form)},cancelHandle:function(){},onImgsSuccess:function(){},onBtnClick:function(){var t=this,e=[];this.$refs.va.forEach(function(t){t.rules&&t.rules.required&&e.push(t.changeV())}),r.a.all(e).then(function(e){if(e.every(function(t){return t})){console.log(t.form,"校验成功并提交数据"),console.log(t.params),console.log(t.form);var n={};n.clueId=t.params.clueId,t.params.data.data.forEach(function(t){var e="";e=t.value?t.value:0===t.value?0:t.text,n[t.attr]=e}),t.form.data.forEach(function(t){var e="";e=t.value?t.value:0===t.value?0:t.text,"contractUrl"!==t.attr&&"certificateUrl"!==t.attr&&"depositVoucherUrl"!==t.attr||(e=e||[]),"orderNo"===t.attr&&(e=t.text+t.value),n[t.attr]=e}),Object(s.c)(n).then(function(e){console.log(e),e&&(C.a.showToast({txt:"签约成功"}),t.params.onSuccess&&t.params.onSuccess(),t.$router.go(-3))}).catch(function(t){return console.log(t,"==>err")})}})},getPage:function(t){var e=this;console.log(t);var n=this.menu,a=n.clueAdditionalConfiguration,r={selKey:1,colorList:[{name:"无",colors:{size:1,color:["",""]}}]},o={selKey:1,colorList:[{name:"无",colors:{size:1,color:["",""]}}]},l=n.clueIntentionType,c=n.clueShoppingWay,C=n.gender,f=n.customerOrigin,u=n.customerType;Object(s.i)().then(function(n){console.log(n,"=========================>success2");var s=[];n.forEach(function(t){console.log(t),"contact-add"===t.code&&"add"===e.form.type&&(s=t.fields),"contact-edit"===t.code&&"edit"===e.form.type&&(s=t.fields)}),s.sort(function(t,e){return t.sort-e.sort}),e.allData=s,console.log(s,"=========================>data2");var m=[];m=s.filter(function(t){return"step2"===t.description});var b=[];m.forEach(function(n){var i={attr:n.attr,type:A.a[n.configsObj.type],title:n.name,text:null,value:null,placeholder:n.configsObj.placeholder,indent:!0,columnWidth:n.columnWidth,selData:{source:[{key:"选项一",value:1},{key:"选项二",value:2}],selectedKey:"下单客户1"}};if("orderNo"===n.attr&&(console.log(e.params),e.params.storeSimpleDTO&&Object(d.o)({code:e.params.storeSimpleDTO.storeNo}).then(function(t){console.log(t,"res"),e.form.data.forEach(function(n,a){"orderNo"===n.attr&&(e.form.data[a].text=t.substring(0,8),e.form.data[a].value=t.substring(8,t.length),e.form.data[a].disable=!0)})}).catch(function(t){console.log(t,"err")})),"contractUrl"===i.attr&&(i.line=!1),"certificateUrl"===i.attr&&(i.line=!1),"depositVoucherUrl"===i.attr&&(i.line=!1),t[i.attr]){if(i.value=t[i.attr],i.text=t[i.attr],"gender"===i.attr&&(i.text=C[t[i.attr].code]&&C[t[i.attr].code].name,i.value=t[i.attr].code),"vehicleModelId"===i.attr&&(i.text=t[i.attr].carName,i.value=t[i.attr].vehicleModelId,getModelDetail(t[i.attr].vehicleModelId).then(function(t){return e.onCarModel({data:t})}).catch(function(t){return console.log(t)})),"appearance"===i.attr&&(i.text=JSON.parse(t[i.attr])&&JSON.parse(t[i.attr]).name,i.value=t[i.attr]?tranformColorsComponent(JSON.parse(t[i.attr])):null),"interior"===i.attr&&(i.text=JSON.parse(t[i.attr]).colors&&JSON.parse(t[i.attr]).colors[0].name,i.value=t[i.attr]?tranformColorsComponent(JSON.parse(t[i.attr])):null),"shoppingWay"===i.attr&&(i.text=t[i.attr].name,i.value=t[i.attr].code),"contractUrl"===i.attr){var s=i.value||[];i.value=s.map(function(t){return{url:t}})}if("certificateUrl"===i.attr){var m=i.value||[];i.value=m.map(function(t){return{url:t}})}if("depositVoucherUrl"===i.attr){var v=i.value||[];i.value=v.map(function(t){return{url:t}})}}var p=n.rulesObj[0]&&n.rulesObj[0].value,E={};n.rulesObj.length>0&&n.rulesObj.forEach(function(t){"required"===t.type?E[t.type]=t.value:"pattern"===t.type&&(E[t.value]=!0)});var k=E;switch(p&&(i.required=p),k&&(i.rules=k),n.attr){case"vehicleModelId":i.selData.source=a.map(function(t){return{key:t.name,value:t.code}});break;case"intentionType":case"intentionGrade":i.selData.source=l.map(function(t){return{key:t.name,value:t.code}});break;case"shoppingWay":i.selData.source=c.map(function(t){return{key:t.name,value:t.code}});break;case"appearance":i.selData=r;break;case"interior":i.selData=o;break;case"gender":i.selData.source=C.map(function(t){return{key:t.name,value:t.code}});break;case"origin":i.selData.source=f.map(function(t){return{key:t.name,value:t.code}});break;case"type":i.selData.source=u.map(function(t){return{key:t.name,value:t.code}})}b.push(i)}),e.form.data=b,console.log(e.form.data,"----------\x3e>>>>>>>>>"),e.initData=i()(e.form)}).catch(function(t){console.log(t,"==============================>err")})}}},u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container app-init"},[n("div",{staticClass:"input-box2"},[n("cube-scroll",[t._l(t.form.data,function(e,a){return[n("yi-input",t._b({key:a,ref:"va",refInFor:!0,class:{hide:"orderNo"===e.attr},attrs:{value:e.value,indent:!0,selData:e.selData||null},on:{"update:value":function(n){t.$set(e,"value",n)}},model:{value:e.text,callback:function(n){t.$set(e,"text",n)},expression:"item.text"}},"yi-input",e,!1))]})],2)],1),t._v(" "),n("yi-btn-box",{attrs:{name:"确认提交"},on:{onBtnClick:t.onBtnClick}})],1)};u._withStripped=!0;var m={render:u,staticRenderFns:[]},b=m;var v=!1;var p=n("VU/8")(f,b,!1,function(t){v||n("ztBk")},"data-v-022242d9",null);p.options.__file="src\\modules\\clue\\contract\\upload\\index.vue";e.default=p.exports},ztBk:function(t,e,n){var a=n("eC4x");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("3a54b4d2",a,!1,{})}});