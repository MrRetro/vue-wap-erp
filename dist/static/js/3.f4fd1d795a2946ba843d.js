webpackJsonp([3],{"+D8K":function(e,t,a){(e.exports=a("FZ+f")(!0)).push([e.i,'\n.scroll-box[data-v-6a9e33af] {\n  -webkit-overflow-scrolling: touch;\n  overflow-y: auto;\n}\n.app-init[data-v-6a9e33af] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flex-center[data-v-6a9e33af] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.full-parent[data-v-6a9e33af] {\n  width: 100%;\n  height: 100%;\n}\n.slide-go-leave[data-v-6a9e33af] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-go-enter-active[data-v-6a9e33af],\n.slide-go-leave-active[data-v-6a9e33af],\n.slide-back-enter-active[data-v-6a9e33af],\n.slide-back-leave-active[data-v-6a9e33af] {\n  -webkit-transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  -webkit-transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1), -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n}\n.slide-go-leave-to[data-v-6a9e33af] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-go-enter[data-v-6a9e33af] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-go-enter-to[data-v-6a9e33af] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.slide-back-leave[data-v-6a9e33af] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-back-leave-to[data-v-6a9e33af] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-back-enter[data-v-6a9e33af] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-back-enter-to[data-v-6a9e33af] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.fade-enter-active[data-v-6a9e33af] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-leave-active[data-v-6a9e33af] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-enter[data-v-6a9e33af],\n.fade-leave-to[data-v-6a9e33af] {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.md-radio-content[data-v-6a9e33af] {\n  font-size: 0.597333333333333rem;\n}\ninput[data-v-6a9e33af]::-webkit-input-placeholder {\n  color: #b0b0b0;\n}\n.box-shadow[data-v-6a9e33af] {\n  -webkit-box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n  box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n}\n.touch-opacity[data-v-6a9e33af]:active {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n.ellipsis[data-v-6a9e33af] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.container[data-v-6a9e33af] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n  height: 100%;\n}\n.container .section-title[data-v-6a9e33af] {\n  width: 100%;\n  font-size: 0.682666666666667rem;\n  color: #31363b;\n  text-align: left;\n  margin: 0 0.597333333333333rem;\n  font-family: "PingFang SC";\n  font-weight: 500;\n}\n.container .section-margin-top[data-v-6a9e33af] {\n  margin-top: 1.194666666666667rem;\n}\n.container .input-box2[data-v-6a9e33af] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: calc(100% - 50px);\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n}\n.container .input-box2 .content[data-v-6a9e33af] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .id-box[data-v-6a9e33af] {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .in-box[data-v-6a9e33af] {\n  width: 100%;\n}\n.container .input-box2 .content .self[data-v-6a9e33af] {\n  width: 50%;\n}\n.container .input-box2 .content .self:nth-child(even) .input-box[data-v-6a9e33af] {\n  margin-right: 0.597333333333333rem;\n}\n.container .p-warm[data-v-6a9e33af] {\n  width: 100%;\n  background-color: #fdfcea;\n  height: 1.194666666666667rem;\n  line-height: 1.194666666666667rem;\n  font-size: 0.512rem;\n  color: #ef465b;\n}\n.container .space-box[data-v-6a9e33af] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  height: 3.328rem;\n}',"",{version:3,sources:["/usr/local/nginx/html/vue-wap-erp/src/modules/clue/add/index.vue"],names:[],mappings:";AACA;EACE,kCAAkC;EAClC,iBAAiB;CAClB;AACD;EACE,mBAAmB;EACnB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,OAAO;CACR;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;CAC7B;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,wCAAwC;EACxC,wCAAwC;EACxC,gCAAgC;CACjC;AACD;;;;EAIE,iEAAiE;EACjE,yEAAyE;EACzE,iEAAiE;EACjE,yDAAyD;EACzD,+GAA+G;CAChH;AACD;EACE,4CAA4C;EAC5C,4CAA4C;EAC5C,oCAAoC;CACrC;AACD;EACE,2CAA2C;EAC3C,2CAA2C;EAC3C,mCAAmC;CACpC;AACD;EACE,yCAAyC;EACzC,yCAAyC;EACzC,iCAAiC;CAClC;AACD;EACE,wCAAwC;EACxC,wCAAwC;EACxC,gCAAgC;CACjC;AACD;EACE,2CAA2C;EAC3C,2CAA2C;EAC3C,mCAAmC;CACpC;AACD;EACE,4CAA4C;EAC5C,4CAA4C;EAC5C,oCAAoC;CACrC;AACD;EACE,yCAAyC;EACzC,yCAAyC;EACzC,iCAAiC;CAClC;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;;EAEE,WAAW;EACX,iEAAiE;EACjE,yBAAyB;CAC1B;AACD;EACE,gCAAgC;CACjC;AACD;EACE,eAAe;CAChB;AACD;EACE,wEAAwE;EACxE,gEAAgE;CACjE;AACD;EACE,aAAa;EACb,kEAAkE;EAClE,0BAA0B;CAC3B;AACD;EACE,iBAAiB;EACjB,wBAAwB;EACxB,oBAAoB;CACrB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;EAC/B,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,iBAAiB;EACjB,aAAa;CACd;AACD;EACE,YAAY;EACZ,gCAAgC;EAChC,eAAe;EACf,iBAAiB;EACjB,+BAA+B;EAC/B,2BAA2B;EAC3B,iBAAiB;CAClB;AACD;EACE,iCAAiC;CAClC;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;EAC1B,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;EAC/B,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,iBAAiB;CAClB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,+BAA+B;EAC/B,8BAA8B;MAC1B,wBAAwB;UACpB,oBAAoB;EAC5B,oBAAoB;MAChB,gBAAgB;CACrB;AACD;EACE,YAAY;EACZ,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,+BAA+B;EAC/B,8BAA8B;MAC1B,wBAAwB;UACpB,oBAAoB;EAC5B,oBAAoB;MAChB,gBAAgB;CACrB;AACD;EACE,YAAY;CACb;AACD;EACE,WAAW;CACZ;AACD;EACE,mCAAmC;CACpC;AACD;EACE,YAAY;EACZ,0BAA0B;EAC1B,6BAA6B;EAC7B,kCAAkC;EAClC,oBAAoB;EACpB,eAAe;CAChB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,YAAY;EACZ,iBAAiB;CAClB",file:"index.vue",sourcesContent:['\n.scroll-box[data-v-6a9e33af] {\n  -webkit-overflow-scrolling: touch;\n  overflow-y: auto;\n}\n.app-init[data-v-6a9e33af] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flex-center[data-v-6a9e33af] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.full-parent[data-v-6a9e33af] {\n  width: 100%;\n  height: 100%;\n}\n.slide-go-leave[data-v-6a9e33af] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-go-enter-active[data-v-6a9e33af],\n.slide-go-leave-active[data-v-6a9e33af],\n.slide-back-enter-active[data-v-6a9e33af],\n.slide-back-leave-active[data-v-6a9e33af] {\n  -webkit-transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  -webkit-transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1), -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n}\n.slide-go-leave-to[data-v-6a9e33af] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-go-enter[data-v-6a9e33af] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-go-enter-to[data-v-6a9e33af] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.slide-back-leave[data-v-6a9e33af] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-back-leave-to[data-v-6a9e33af] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-back-enter[data-v-6a9e33af] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-back-enter-to[data-v-6a9e33af] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.fade-enter-active[data-v-6a9e33af] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-leave-active[data-v-6a9e33af] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-enter[data-v-6a9e33af],\n.fade-leave-to[data-v-6a9e33af] {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.md-radio-content[data-v-6a9e33af] {\n  font-size: 0.597333333333333rem;\n}\ninput[data-v-6a9e33af]::-webkit-input-placeholder {\n  color: #b0b0b0;\n}\n.box-shadow[data-v-6a9e33af] {\n  -webkit-box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n  box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n}\n.touch-opacity[data-v-6a9e33af]:active {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n.ellipsis[data-v-6a9e33af] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.container[data-v-6a9e33af] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n  height: 100%;\n}\n.container .section-title[data-v-6a9e33af] {\n  width: 100%;\n  font-size: 0.682666666666667rem;\n  color: #31363b;\n  text-align: left;\n  margin: 0 0.597333333333333rem;\n  font-family: "PingFang SC";\n  font-weight: 500;\n}\n.container .section-margin-top[data-v-6a9e33af] {\n  margin-top: 1.194666666666667rem;\n}\n.container .input-box2[data-v-6a9e33af] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: calc(100% - 50px);\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n}\n.container .input-box2 .content[data-v-6a9e33af] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .id-box[data-v-6a9e33af] {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .in-box[data-v-6a9e33af] {\n  width: 100%;\n}\n.container .input-box2 .content .self[data-v-6a9e33af] {\n  width: 50%;\n}\n.container .input-box2 .content .self:nth-child(even) .input-box[data-v-6a9e33af] {\n  margin-right: 0.597333333333333rem;\n}\n.container .p-warm[data-v-6a9e33af] {\n  width: 100%;\n  background-color: #fdfcea;\n  height: 1.194666666666667rem;\n  line-height: 1.194666666666667rem;\n  font-size: 0.512rem;\n  color: #ef465b;\n}\n.container .space-box[data-v-6a9e33af] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  height: 3.328rem;\n}'],sourceRoot:""}])},jzkO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),o=a.n(n),r=a("woOf"),i=a.n(r),l=a("pFYg"),s=a.n(l),d=a("//Fk"),c=a.n(d),f=a("mvHQ"),A=a.n(f),m=a("OT9B"),u=a("rMyF"),C=a("FWz8"),b=a("1CjK"),p=a("W8/A"),v=a("3r8y"),h=a("Gtft"),x=a("N6PA"),B=a("6D10"),g={name:"clue-add",extends:v.a,created:function(){var e=this;this.params=this.$route.params;var t=this.params;console.log(t),t&&t.id?(this.id=t.id,this.form.type="edit"):this.form.type="add",t.obj&&t.obj.userId&&(this.userId=t.obj.userId,this.form.info[0].text=t.obj.name,this.form.info[0].value=t.obj.name,this.form.info[1].text=t.obj.mobile,this.form.info[1].value=t.obj.mobile,this.form.info[2].text=1===t.obj.gender?"女":"男",this.form.info[2].value=t.obj.gender),t.customerId?(this.userId=t.customerId,this.selClueFrom=!0):this.selClueFrom=!1,"add"===this.form.type?(t.customerId&&Object(u.d)(t.customerId).then(function(t){e.form.info[0].text=t.name,e.form.info[0].value=t.name,e.form.info[1].text=t.mobile,e.form.info[1].value=t.mobile,e.form.info[2].text=t.gender.name,e.form.info[2].value=t.gender.code}).catch(function(e){console.log(e)}),this.getPage({})):Object(m.h)(this.id).then(function(t){e.userId=t.customerId,console.log(t,"111222333"),e.whetherOrder=t.whetherOrder,e.whetherOrder?(e.form.info[0].disable=!0,e.form.info[1].disable=!0,e.form.info[2].disable=!0):(e.form.info[0].disable=!1,e.form.info[1].disable=!1,e.form.info[2].disable=!1),e.getPage(t),e.edit=t,e.intentionType=t.intentionType.code}).catch(function(e){console.log(e)})},computed:{btnName:function(){return this.id?"保   存":"确认提交"}},activated:function(){h.a.setRight()},data:function(){return{params:this.$route.params,initData:null,id:"",userId:"",selClueFrom:!1,intentionType:0,carInfo:null,whetherOrder:!1,form:{type:"add",info:[{attr:"name",type:"text",title:"客户名称",text:"",value:null,placeholder:"请选择客户名称",rules:{required:!0},required:!0,indent:!1,disable:!0},{attr:"mobile",type:"text",title:"联系电话",text:null,value:null,placeholder:"客户联系电话",rules:{required:!0,mobile:!0},required:!0,indent:!1,disable:!0},{attr:"gender",type:"select",title:"性别",text:null,value:null,placeholder:"请选择性别",rules:{required:!0},selData:{source:[]},required:!0,indent:!1,disable:!0}],data:[]},edit:null}},methods:{isEdit:function(){return this.initData!==A()(this.form)},onBtnClick:function(){var e=this;console.log("新建线索1"),console.log(this.$refs.va);var t=[];this.$refs.va.forEach(function(e){e.rules&&!Object(B.g)(e)&&t.push(e.changeV())}),this.whetherOrder||this.$refs.info.forEach(function(e){e.rules&&!Object(B.g)(e)&&t.push(e.changeV())}),c.a.all(t).then(function(t){console.log("新建线索2",t);var a=t.every(function(e){return e});if(console.log(a),a){console.log(e.form,"校验成功并提交数据");var n={};e.form.data.forEach(function(e){if("group"!==e.attr){var t="";t=e.value?e.value:0===e.value?0:e.text,console.log(t,"item"),"appearance"!==e.attr&&"interior"!==e.attr||(t="无"===t?null:t&&A()(t)||""),"belongStoreId"===e.attr&&("object"===s()(e.value)?t=e.value&&e.value.id:"string"==typeof e.value&&(t=e.value&&JSON.parse(e.value)&&JSON.parse(e.value).id)),n[e.attr]=t,"vehicleModelId"===e.attr&&(n.carName=e.text,n.vehicleModelId=e.value),"intentionGrade"===e.attr&&"string"==typeof e.value&&(e.intentionGrade=parseInt(e.value))}}),n.responsibleId=n.responsibleId||"","number"==typeof n.belongPlaceId&&(n.belongPlaceId=n.belongPlaceId.toString()),n.customerId=e.userId,n.intentionType=e.intentionType,2===n.intentionType&&(delete n.vehicleModelId,delete n.carName),console.log(n,"校验成功并提交数据--01"),e.carInfo&&(n=i()({},n,e.carInfo)),n.intentionGrade||delete n.intentionGrade,"add"===e.form.type?e.selClueFrom?Object(m.a)(n).then(function(){e.params.onSuccess&&e.params.onSuccess(),e.$router.go(-1)}).catch(function(e){console.log(e,"--------02---------")}):Object(m.a)(n).then(function(t){console.log(t),e.$RouteUtil.clueAddSuccess(o()({},e.params,{name:"新建线索",id:t.id,clueNo:t.clueNo})),e.params.onSuccess&&e.params.onSuccess(),console.log(t,"--------01---------")}).catch(function(e){console.log(e,"--------02---------")}):"edit"===e.form.type&&(e.whetherOrder||Object(m.e)({id:e.userId,name:e.form.info[0].text,mobile:e.form.info[1].text,gender:e.form.info[2].value,isOverride:!0}).then(function(e){}).catch(function(e){return console.log(e)}),n.id=e.id,n.customerId=e.edit.customerId,console.log(n,"==>edit items"),Object(m.d)(n).then(function(){e.params.onSuccess&&e.params.onSuccess(n),e.$router.go(-1)}).catch(function(e){return console.log(e)}))}})},onGetMan:function(e,t){var a=this;console.log(e),e&&Object(C.g)(e).then(function(e){console.log(e,"ddddd"),a.form.data.forEach(function(t,n){"belongStoreId"===t.attr&&(a.form.data[n].selData.source=e.stores.map(function(t,a){return{key:t.name,value:o()({id:t.id},e.areas[a])}}))}),t||a.form.data.forEach(function(e,t){"belongStoreId"!==e.attr&&"belongPlaceId"!==e.attr||(a.form.data[t].text="",a.form.data[t].value="")}),t&&(a.initData=A()(a.form))}).catch(function(e){return console.log(e)})},onStore:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(console.log(void 0===e?"undefined":s()(e),"==>000"),"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof e&&(e=JSON.parse(e)),console.log(void 0===e?"undefined":s()(e),"==>000==>000"),this.form.data.forEach(function(n,o){"belongPlaceId"===n.attr&&(a||(console.log(e,"==>666"),console.log(t.form.data[o],"==>111"),console.log(t.form.data[o].attr,"==>222"),console.log(e.address,"==>333"),console.log(e.codes,"==>444"),console.log(e.codes[e.codes.length-1],"==>555"),t.form.data[o].text=e.address,t.form.data[o].value=e.codes&&""+e.codes[e.codes.length-1]))}))},onCarModel:function(e,t){var a=this;console.log(e,"==>colors");var n=e.data.innerColors,o=e.data.outerColors;this.form.data.forEach(function(e,r){"appearance"===e.attr&&(t||(a.form.data[r].text=null,a.form.data[r].value=null),o?(a.form.data[r].selData=o,a.form.data[r].disable=!1):(a.form.data[r].selData=null,a.form.data[r].disable=!0,a.form.data[r].text="无")),"interior"===e.attr&&(t||(a.form.data[r].text=null,a.form.data[r].value=null),n?(a.form.data[r].selData=n,a.form.data[r].disable=!1):(a.form.data[r].selData=null,a.form.data[r].disable=!0,a.form.data[r].text="无"))}),e.id||e.data.id?this.intentionType=1:(this.intentionType=2,this.carInfo=e.data),t&&(this.initData=A()(this.form))},getPage:function(e){var t=this;console.log("--------------------"),console.log(e);var a=this.menu,n=a.followUpTarget,o=[],r=a.clueAdditionalConfiguration,i=a.clueIntentionType,l=a.clueIntentionGrade,s=a.clueShoppingWay,d=a.gender,c=a.customerOrigin,f=a.customerType;this.form.info[2].selData.source=d.map(function(e){return{key:e.name,value:e.code}}),e.name&&(this.form.info[0].text=e.name),e.mobile&&(this.form.info[1].text=e.mobile),e.gender&&(this.form.info[2].text=e.gender.name,this.form.info[2].value=e.gender.code),Object(m.f)().then(function(a){console.log(a,"=========================>success");var m=[];a.forEach(function(e){"create-clue"===e.code&&(m=e.fields),"edit-clue"===e.code&&(m=e.fields)}),m.sort(function(e,t){return e.sort-t.sort}),console.log(m,"=========================>data");var u=[];m.forEach(function(a){var A={attr:a.attr,type:b.a[a.configsObj.type],title:a.name,text:null,value:null,placeholder:a.configsObj.placeholder,indent:!0,columnWidth:a.columnWidth,selData:{source:[],selectedKey:""}};if("vehicleModelId"===A.attr&&t.selClueFrom&&("add"===t.params.type?A.singleChoose=!1:A.singleChoose=!0),e[A.attr]){if(A.value=e[A.attr],A.text=e[A.attr],"intentionType"===A.attr&&(A.text=e[A.attr].name,A.value=e[A.attr].code),"intentionGrade"===A.attr&&(A.text=e[A.attr].name,A.value=e[A.attr].code),"shoppingWay"===A.attr&&(A.text=e[A.attr].name,A.value=e[A.attr].code),"appearance"===A.attr){try{A.text=JSON.parse(e[A.attr]).name,A.value=JSON.parse(e[A.attr])}catch(e){A.text=null}try{A.value=JSON.parse(e[A.attr]),A.value=JSON.parse(e[A.attr])}catch(e){A.value=null}}if("interior"===A.attr){try{var m=JSON.parse(e[A.attr]).colors[0].name;JSON.parse(e[A.attr]).colors[1]&&(m+="/"+JSON.parse(e[A.attr]).colors[1].name),A.text=m}catch(e){A.text=null}try{A.value=JSON.parse(e[A.attr])}catch(e){A.value=null}}"area"===A.attr&&(A.text=e[A.attr].name,A.value=e[A.attr].code),"belongStoreId"===A.attr&&(A.text=e.storeSimpleDTO&&e.storeSimpleDTO.storeName,A.value=e.storeSimpleDTO&&{id:e.storeSimpleDTO.id}),"remark"===A.attr&&(A.text=Object(B.b)(e[A.attr]),A.value=Object(B.b)(e[A.attr]))}var C=!1;a.rulesObj&&a.rulesObj.forEach(function(e){"required"===e.type&&(C=!0)});var p=Object(x.a)(a);switch(C&&(A.required=C),p&&(A.rules=p),a.attr){case"target":A.selData.source=n.map(function(e){return{key:e.name,value:e.code}});break;case"purpose":A.selData.source=o;break;case"vehicleModelId":A.selData.source=r.map(function(e){return{key:e.name,value:e.code}});break;case"intentionType":A.selData.source=i.map(function(e){return{key:e.name,value:e.code}});break;case"intentionGrade":A.selData.source=l.map(function(e){return{key:e.name,value:e.code}}).filter(function(e){return 0!==e.value});break;case"shoppingWay":A.selData.source=s.map(function(e){return{key:e.name,value:e.code}});break;case"appearance":case"interior":A.selData=null;break;case"gender":A.selData.source=d.map(function(e){return{key:e.name,value:e.code}});break;case"origin":A.selData.source=c.map(function(e){return{key:e.name,value:e.code}});break;case"type":A.selData.source=f.map(function(e){return{key:e.name,value:e.code}})}u.push(A)}),t.form.data=u,console.log(t.form.data,"----------\x3e>>>>>>>>>"),"edit"===t.form.type&&t.form.data.forEach(function(a,n){"vehicleModelId"===a.attr&&(t.form.data[n].text=e.carName,t.form.data[n].value=e.vehicleModelId,e.vehicleModelId&&"模糊意向"!==e.carName&&Object(p.c)(e.vehicleModelId).then(function(e){return t.onCarModel({data:e},!0)}).catch(function(e){return console.log(e)})),"responsibleId"===a.attr&&(t.form.data[n].text=e.responsibleName,t.form.data[n].value=e.responsibleId,e.responsibleId&&t.onGetMan(e.responsibleId,!0)),"belongPlaceId"===a.attr&&(t.form.data[n].text=e.belongPlaceName,t.form.data[n].value=e.belongPlaceId)}),t.initData=A()(t.form)}).catch(function(e){console.log(e,"==============================>err")})}}},w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"input-box2"},[a("cube-scroll",[a("div",{staticClass:"content"},[e._l(e.form.data,function(t,n){return["customerId"===t.attr?a("div",{key:"index"+n,staticClass:"id-box"},e._l(e.form.info,function(t,n){return a("div",{key:"index2"+n,staticClass:"in-box",class:{self:50===t.columnWidth}},[a("yi-input",e._b({ref:"info",refInFor:!0,attrs:{value:t.value,indent:!0,selData:t.selData||null,clearMR:50===t.columnWidth},on:{"update:value":function(a){e.$set(t,"value",a)}},model:{value:t.text,callback:function(a){e.$set(t,"text",a)},expression:"item1.text"}},"yi-input",t,!1))],1)})):"groupHeader"===t.type?a("div",{key:"index"+n,staticClass:"section-title section-margin-top"},[e._v("\n            "+e._s(t.title)+"\n          ")]):a("div",{key:"index"+n,staticClass:"in-box",class:{self:50===t.columnWidth}},[a("yi-input",e._b({ref:"va",refInFor:!0,attrs:{value:t.value,indent:!0,selData:t.selData||null,clearMR:50===t.columnWidth},on:{"update:value":function(a){e.$set(t,"value",a)},onCarModel:e.onCarModel,onGetMan:e.onGetMan,onStore:e.onStore},model:{value:t.text,callback:function(a){e.$set(t,"text",a)},expression:"item.text"}},"yi-input",t,!1))],1)]}),e._v(" "),a("div",{staticClass:"space-box"})],2)])],1),e._v(" "),a("yi-btn-box",{attrs:{name:e.btnName},on:{onBtnClick:e.onBtnClick}})],1)};w._withStripped=!0;var E={render:w,staticRenderFns:[]},k=E;var y=!1;var D=a("VU/8")(g,k,!1,function(e){y||a("pQYb")},"data-v-6a9e33af",null);D.options.__file="src/modules/clue/add/index.vue";t.default=D.exports},pQYb:function(e,t,a){var n=a("+D8K");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("5c76fb56",n,!1,{})}});