webpackJsonp([2],{BO1g:function(t,e,n){(t.exports=n("FZ+f")(!0)).push([t.i,'\n.scroll-box[data-v-6cbbcc5e] {\n  -webkit-overflow-scrolling: touch;\n  overflow-y: auto;\n}\n.app-init[data-v-6cbbcc5e] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flex-center[data-v-6cbbcc5e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.full-parent[data-v-6cbbcc5e] {\n  width: 100%;\n  height: 100%;\n}\n.slide-go-leave[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-go-enter-active[data-v-6cbbcc5e],\n.slide-go-leave-active[data-v-6cbbcc5e],\n.slide-back-enter-active[data-v-6cbbcc5e],\n.slide-back-leave-active[data-v-6cbbcc5e] {\n  -webkit-transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  -webkit-transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1), -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n}\n.slide-go-leave-to[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-go-enter[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-go-enter-to[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.slide-back-leave[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-back-leave-to[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-back-enter[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-back-enter-to[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.fade-enter-active[data-v-6cbbcc5e] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-leave-active[data-v-6cbbcc5e] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-enter[data-v-6cbbcc5e],\n.fade-leave-to[data-v-6cbbcc5e] {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.md-radio-content[data-v-6cbbcc5e] {\n  font-size: 0.597333333333333rem;\n}\ninput[data-v-6cbbcc5e]::-webkit-input-placeholder {\n  color: #b0b0b0;\n}\n.box-shadow[data-v-6cbbcc5e] {\n  -webkit-box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n  box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n}\n.touch-opacity[data-v-6cbbcc5e]:active {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n.ellipsis[data-v-6cbbcc5e] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.hide[data-v-6cbbcc5e] {\n  display: none;\n}\n.container[data-v-6cbbcc5e] {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.container .section-title[data-v-6cbbcc5e] {\n  width: 100%;\n  font-size: 0.682666666666667rem;\n  color: #31363b;\n  text-align: left;\n  margin: 0 0.597333333333333rem;\n  font-family: "PingFang SC";\n  font-weight: 500;\n}\n.container .section-margin-top[data-v-6cbbcc5e] {\n  margin-top: 1.194666666666667rem;\n}\n.container .input-box2[data-v-6cbbcc5e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: calc(100% - 50px);\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n}\n.container .input-box2 .content[data-v-6cbbcc5e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .id-box[data-v-6cbbcc5e] {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .in-box[data-v-6cbbcc5e] {\n  width: 100%;\n}\n.container .input-box2 .content .self[data-v-6cbbcc5e] {\n  width: 50%;\n}\n.container .input-box2 .content .self:nth-child(even) .input-box[data-v-6cbbcc5e] {\n  margin-right: 0.597333333333333rem;\n}\n.container .p-warm[data-v-6cbbcc5e] {\n  width: 100%;\n  background-color: #fdfcea;\n  height: 1.194666666666667rem;\n  line-height: 1.194666666666667rem;\n  font-size: 0.512rem;\n  color: #ef465b;\n}\n.container .space-box[data-v-6cbbcc5e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  height: 3.328rem;\n}',"",{version:3,sources:["D:/Work/myGithub/vue-wap-erp/src/modules/order/add/index.vue"],names:[],mappings:";AACA;EACE,kCAAkC;EAClC,iBAAiB;CAClB;AACD;EACE,mBAAmB;EACnB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,OAAO;CACR;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;CAC7B;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,wCAAwC;EACxC,wCAAwC;EACxC,gCAAgC;CACjC;AACD;;;;EAIE,iEAAiE;EACjE,yEAAyE;EACzE,iEAAiE;EACjE,yDAAyD;EACzD,+GAA+G;CAChH;AACD;EACE,4CAA4C;EAC5C,4CAA4C;EAC5C,oCAAoC;CACrC;AACD;EACE,2CAA2C;EAC3C,2CAA2C;EAC3C,mCAAmC;CACpC;AACD;EACE,yCAAyC;EACzC,yCAAyC;EACzC,iCAAiC;CAClC;AACD;EACE,wCAAwC;EACxC,wCAAwC;EACxC,gCAAgC;CACjC;AACD;EACE,2CAA2C;EAC3C,2CAA2C;EAC3C,mCAAmC;CACpC;AACD;EACE,4CAA4C;EAC5C,4CAA4C;EAC5C,oCAAoC;CACrC;AACD;EACE,yCAAyC;EACzC,yCAAyC;EACzC,iCAAiC;CAClC;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;;EAEE,WAAW;EACX,iEAAiE;EACjE,yBAAyB;CAC1B;AACD;EACE,gCAAgC;CACjC;AACD;EACE,eAAe;CAChB;AACD;EACE,wEAAwE;EACxE,gEAAgE;CACjE;AACD;EACE,aAAa;EACb,kEAAkE;EAClE,0BAA0B;CAC3B;AACD;EACE,iBAAiB;EACjB,wBAAwB;EACxB,oBAAoB;CACrB;AACD;EACE,cAAc;CACf;AACD;EACE,mBAAmB;EACnB,OAAO;EACP,UAAU;EACV,QAAQ;EACR,SAAS;EACT,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;CAChC;AACD;EACE,YAAY;EACZ,gCAAgC;EAChC,eAAe;EACf,iBAAiB;EACjB,+BAA+B;EAC/B,2BAA2B;EAC3B,iBAAiB;CAClB;AACD;EACE,iCAAiC;CAClC;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;EAC1B,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;EAC/B,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,iBAAiB;CAClB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,+BAA+B;EAC/B,8BAA8B;MAC1B,wBAAwB;UACpB,oBAAoB;EAC5B,oBAAoB;MAChB,gBAAgB;CACrB;AACD;EACE,YAAY;EACZ,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,+BAA+B;EAC/B,8BAA8B;MAC1B,wBAAwB;UACpB,oBAAoB;EAC5B,oBAAoB;MAChB,gBAAgB;CACrB;AACD;EACE,YAAY;CACb;AACD;EACE,WAAW;CACZ;AACD;EACE,mCAAmC;CACpC;AACD;EACE,YAAY;EACZ,0BAA0B;EAC1B,6BAA6B;EAC7B,kCAAkC;EAClC,oBAAoB;EACpB,eAAe;CAChB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,YAAY;EACZ,iBAAiB;CAClB",file:"index.vue",sourcesContent:['\n.scroll-box[data-v-6cbbcc5e] {\n  -webkit-overflow-scrolling: touch;\n  overflow-y: auto;\n}\n.app-init[data-v-6cbbcc5e] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flex-center[data-v-6cbbcc5e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.full-parent[data-v-6cbbcc5e] {\n  width: 100%;\n  height: 100%;\n}\n.slide-go-leave[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-go-enter-active[data-v-6cbbcc5e],\n.slide-go-leave-active[data-v-6cbbcc5e],\n.slide-back-enter-active[data-v-6cbbcc5e],\n.slide-back-leave-active[data-v-6cbbcc5e] {\n  -webkit-transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  -webkit-transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n  transition: transform 0.2s cubic-bezier(0.55, 0, 0.1, 1), -webkit-transform 0.2s cubic-bezier(0.55, 0, 0.1, 1);\n}\n.slide-go-leave-to[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-go-enter[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-go-enter-to[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.slide-back-leave[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.slide-back-leave-to[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(100%, 0, 0);\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.slide-back-enter[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.slide-back-enter-to[data-v-6cbbcc5e] {\n  -webkit-transform: translate3d(0%, 0, 0);\n  -webkit-transform: translate3d(0%, 0, 0);\n  transform: translate3d(0%, 0, 0);\n}\n.fade-enter-active[data-v-6cbbcc5e] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-leave-active[data-v-6cbbcc5e] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.fade-enter[data-v-6cbbcc5e],\n.fade-leave-to[data-v-6cbbcc5e] {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n.md-radio-content[data-v-6cbbcc5e] {\n  font-size: 0.597333333333333rem;\n}\ninput[data-v-6cbbcc5e]::-webkit-input-placeholder {\n  color: #b0b0b0;\n}\n.box-shadow[data-v-6cbbcc5e] {\n  -webkit-box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n  box-shadow: 0rem 0.085333333333333rem 0.256rem rgba(0,0,0,0.16);\n}\n.touch-opacity[data-v-6cbbcc5e]:active {\n  opacity: 0.7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n.ellipsis[data-v-6cbbcc5e] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.hide[data-v-6cbbcc5e] {\n  display: none;\n}\n.container[data-v-6cbbcc5e] {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n.container .section-title[data-v-6cbbcc5e] {\n  width: 100%;\n  font-size: 0.682666666666667rem;\n  color: #31363b;\n  text-align: left;\n  margin: 0 0.597333333333333rem;\n  font-family: "PingFang SC";\n  font-weight: 500;\n}\n.container .section-margin-top[data-v-6cbbcc5e] {\n  margin-top: 1.194666666666667rem;\n}\n.container .input-box2[data-v-6cbbcc5e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  height: calc(100% - 50px);\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow-y: auto;\n}\n.container .input-box2 .content[data-v-6cbbcc5e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .id-box[data-v-6cbbcc5e] {\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.container .input-box2 .content .in-box[data-v-6cbbcc5e] {\n  width: 100%;\n}\n.container .input-box2 .content .self[data-v-6cbbcc5e] {\n  width: 50%;\n}\n.container .input-box2 .content .self:nth-child(even) .input-box[data-v-6cbbcc5e] {\n  margin-right: 0.597333333333333rem;\n}\n.container .p-warm[data-v-6cbbcc5e] {\n  width: 100%;\n  background-color: #fdfcea;\n  height: 1.194666666666667rem;\n  line-height: 1.194666666666667rem;\n  font-size: 0.512rem;\n  color: #ef465b;\n}\n.container .space-box[data-v-6cbbcc5e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  height: 3.328rem;\n}'],sourceRoot:""}])},F7Jn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),r=n.n(a),o=n("bOdI"),i=n.n(o),c=n("pFYg"),l=n.n(c),s=n("//Fk"),d=n.n(s),A=n("mvHQ"),b=n.n(A),f=n("FWz8"),C=n("W8/A"),u=n("OT9B"),m=n("t5DY"),p=n("1CjK"),v=n("3r8y"),x=n("Gtft"),E=n("N6PA"),B=n("6D10"),g={name:"order-add",extends:v.a,created:function(){var t=this;this.$nextTick(function(){t.params=t.$route.params,console.log(t.params,"-----------\x3e0203");var e=t.params;e&&e.id?(t.id=e.id,t.form.type="edit"):t.form.type="add","add"===t.form.type?t.getPage({}):Object(f.e)(t.id).then(function(e){t.edit=e,console.log(e,"--------------------0203"),t.getPage(e)}).catch(function(t){console.log(t)})})},activated:function(){x.a.setRight()},computed:{btnName:function(){return this.id?"编辑订单":"创建订单"}},data:function(){return{initData:null,params:this.$route.params,clueId:"",id:"",form:{type:"add",info:[{attr:"name",type:"text",title:"客户名称",text:null,value:null,placeholder:"请选择客户名称1",required:!1,indent:!1},{attr:"mobile",type:"text",title:"联系电话",text:null,value:null,placeholder:"客户联系电话",required:!1,indent:!1},{attr:"gender",type:"text",title:"性别",text:null,value:null,placeholder:"请选择性别",required:!1,indent:!1}],data:[]},edit:null}},methods:{isEdit:function(){return this.initData!==b()(this.form)},onBtnClick:function(){var t=this;console.log(this.form);var e=[];this.$refs.va.forEach(function(t){t.rules&&!Object(B.g)(t)&&e.push(t.changeV())}),console.log(e,"--------"),d.a.all(e).then(function(e){var n=e.every(function(t){return t});if(n){var a="";if(t.form.data.forEach(function(t){"orderNo"===t.attr&&(a=t.text+t.value)}),console.log(a),console.log("可以创建"),console.log("新建线索2",t.$refs.va),console.log(n),n)if(console.log(t.form,"校验成功并提交数据"),"add"===t.form.type){t.params.data3=t.form.data,console.log(t.params,"4444");var o=t.params,c=[];o.data1 instanceof Array&&(c=c.concat(o.data1)),o.data2 instanceof Array&&(c=c.concat(o.data2)),o.data3 instanceof Array&&(c=c.concat(o.data3)),console.log(c);var s=c.filter(function(t){return"group"!==t.attr&&"files"!==t.attr}).map(function(t){var e="";return e=t.value?t.value:0===t.value?0:t.text,"belongStoreId"===t.attr&&("object"===l()(t.value)?e=t.value&&t.value.id:"string"==typeof t.value&&(e=t.value&&JSON.parse(t.value).id)),i()({},t.attr,e)}),d={};s.forEach(function(t){for(var e in t)d[e]=t[e]}),t.form.data.forEach(function(t){"orderNo"===t.attr&&(d.orderNo=t.text+t.value)}),console.log(d,"itemssss"),d.cluePK||delete d.cluePK,d.gender=parseInt(d.gender),d.shoppingWay=parseInt(d.shoppingWay),Object(f.a)(d).then(function(e){t.$RouteUtil.orderAddSuccess(r()({},t.params,{name:"新建订单",customerNo:e[0].orderNo,id:e[0].id})),console.log(e,"--------01---------")}).catch(function(t){console.log(t,"--------02---------")})}else if("edit"===t.form.type){console.log(t.form,"11111112");var A={};t.form.data.forEach(function(t){if("group"!==t.attr){var e="";e=t.value?t.value:0===t.value?0:t.text,console.log(e,"item"),A[t.attr]=e,"vehicleModelId"===t.attr&&(A.carName=t.text),"orderNo"===t.attr&&(A.orderNo=t.text+t.value)}}),console.log(t.form.data,"==>edit info"),console.log(A,"==>edit info"),A.orderId=t.id,A.customerId=t.edit.customerId;var C={};C.name=A.name,C.mobile=A.mobile,C.gender=A.gender,console.log(C,"==>userInfo");var m=JSON.parse(t.initData);console.log(m,"==>555");var p=!0;m&&m.data.forEach(function(e,n){"name"!==e.attr&&"mobile"!==e.attr&&"gender"!==e.attr||b()(e)!==b()(t.form.data[n])&&(console.log(e),console.log("------------"),console.log(t.form.data[n]),p=!1)}),p?Object(f.c)(A).then(function(e){console.log(e,"==>edit success"),t.params.onSuccess&&t.params.onSuccess(),t.$router.go(-1)}).catch(function(t){return console.log(t,"==>edit err")}):Object(u.b)(C).then(function(e){console.log(e,"==>failure success");var n=e;t.$RouteUtil.orderEditFail(r()({},t.params,{info:n,items:A}))}).catch(function(t){return console.log(t,"==>user err")})}}})},onGetName:function(t){this.$refs.va.forEach(function(e){console.log(e),"name"===e.$attrs.attr&&e.setText(t)})},onCarModel:function(t,e){var n=this;console.log(t,"data");var a=t.data.innerColors,r=t.data.outerColors;this.form.data.forEach(function(t,o){"appearance"===t.attr&&(e||(n.form.data[o].text=null,n.form.data[o].value=null),r?(n.form.data[o].selData=r,n.form.data[o].disable=!1,n.form.data[o].text=null):(n.form.data[o].selData=null,n.form.data[o].disable=!0,n.form.data[o].text="无")),"interior"===t.attr&&(e||(n.form.data[o].text=null,n.form.data[o].value=null),a?(n.form.data[o].selData=a,n.form.data[o].disable=!1,n.form.data[o].text=null):(n.form.data[o].selData=null,n.form.data[o].disable=!0,n.form.data[o].text="无"))}),e&&(this.initData=b()(this.form))},getPage:function(t){var e=this;console.log(t);var n=this.menu,a=n.clueAdditionalConfiguration,r=n.clueIntentionType,o=n.clueShoppingWay,i=n.gender,c=n.customerOrigin,l=n.customerType;Object(f.d)().then(function(n){console.log(n,"=========================>success2");var s=[];n.forEach(function(t){console.log(t),"create-order"===t.code&&"add"===e.form.type&&(s=t.fields),"edit-order"===t.code&&"edit"===e.form.type&&(s=t.fields)}),s.sort(function(t,e){return t.sort-e.sort}),e.allData=s,console.log(s,"=========================>data2");var d=[];d="add"===e.form.type?s.filter(function(t){return"step5"===t.description}):s,console.log(d,"=========================>data2");var A=[];d.forEach(function(n){var s={attr:n.attr,type:p.a[n.configsObj.type],title:n.name,text:null,value:null,placeholder:n.configsObj.placeholder,indent:!0,columnWidth:n.columnWidth,selData:{source:[{key:"选项一",value:1},{key:"选项二",value:2}],selectedKey:"下单客户1"}};if("vehicleModelId"===s.attr&&(s.singleChoose=!0),"contractUrl"===s.attr&&(s.line=!1),"certificateUrl"===s.attr&&(s.line=!1),"depositVoucherUrl"===s.attr&&(s.line=!1),t[s.attr]){if(s.value=t[s.attr],s.text=t[s.attr],"orderNo"===n.attr&&(s.text=s.value&&s.value.substring(0,8),s.value=s.value&&s.value.substring(9,s.value.length),s.disable=!0),"gender"===s.attr&&(s.text=t[s.attr].name,s.value=t[s.attr].code),"vehicleModelId"===s.attr&&(s.text=t[s.attr].carName,s.value=t[s.attr].vehicleModelId,s.value&&"模糊意向"!==t.carName&&Object(C.c)(t[s.attr].vehicleModelId).then(function(t){return e.onCarModel({data:t},!0)}).catch(function(t){return console.log(t)})),"appearance"===s.attr&&(s.text=t[s.attr]&&JSON.parse(t[s.attr])&&JSON.parse(t[s.attr]).name,s.value=t[s.attr]?JSON.parse(t[s.attr]):null),"interior"===s.attr){var d=t[s.attr]&&JSON.parse(t[s.attr]).colors&&JSON.parse(t[s.attr]).colors[0].name;JSON.parse(t[s.attr]).colors&&JSON.parse(t[s.attr]).colors[1]&&(d+="/"+JSON.parse(t[s.attr]).colors[1].name),s.text=d,s.value=t[s.attr]?JSON.parse(t[s.attr]):null}if("shoppingWay"===s.attr&&(s.text=t[s.attr].name,s.value=t[s.attr].code),"contractUrl"===s.attr){var b=s.value||[];s.value=b.map(function(t){return{url:t}})}if("certificateUrl"===s.attr){var f=s.value||[];s.value=f.map(function(t){return{url:t}})}if("depositVoucherUrl"===s.attr){var u=s.value||[];s.value=u.map(function(t){return{url:t}})}}var m=!1;n.rulesObj&&n.rulesObj.forEach(function(t){"required"===t.type&&(m=!0)});var v=Object(E.a)(n);switch(m&&(s.required=m),v&&(s.rules=v),n.attr){case"vehicleModelId":s.selData.source=a.map(function(t){return{key:t.name,value:t.code}});break;case"intentionType":case"intentionGrade":s.selData.source=r.map(function(t){return{key:t.name,value:t.code}});break;case"shoppingWay":s.selData.source=o.map(function(t){return{key:t.name,value:t.code}});break;case"appearance":case"interior":s.selData=null;break;case"gender":s.selData.source=i.map(function(t){return{key:t.name,value:t.code}});break;case"origin":s.selData.source=c.map(function(t){return{key:t.name,value:t.code}});break;case"type":s.selData.source=l.map(function(t){return{key:t.name,value:t.code}})}A.push(s)}),e.form.data=A,console.log(e.form.data,"----------\x3e>>>>>>>>>"),"add"===e.form.type&&(console.log(e.params,"==>params"),e.params&&Object(m.o)({code:e.params.belongStoreId,source:e.params.businessCode}).then(function(t){console.log(t,"res"),e.form.data.forEach(function(n,a){"orderNo"===n.attr&&(e.form.data[a].text=t.substring(0,8),e.form.data[a].value=t.substring(8,t.length))}),e.initData=b()(e.form)}).catch(function(t){console.log(t,"err")})),e.initData=b()(e.form)}).catch(function(t){console.log(t,"==============================>err")})}}},w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"input-box2"},[n("cube-scroll",[n("div",{staticClass:"content"},[t._l(t.form.data,function(e,a){return["customerId"===e.attr?n("div",{key:"index"+a,staticClass:"id-box"},t._l(t.form.info,function(e,a){return n("div",{key:"index2"+a,staticClass:"in-box",class:{self:50===e.columnWidth}},[n("yi-input",t._b({ref:"info",refInFor:!0,attrs:{value:e.value,indent:!0,selData:e.selData||null,clearMR:50===e.columnWidth,disable:!0},on:{"update:value":function(n){t.$set(e,"value",n)}},model:{value:e.text,callback:function(n){t.$set(e,"text",n)},expression:"item1.text"}},"yi-input",e,!1))],1)})):"groupHeader"===e.type?n("div",{key:"index"+a,staticClass:"section-title section-margin-top"},[t._v("\n            "+t._s(e.title)+"\n          ")]):n("div",{key:"index"+a,staticClass:"in-box",class:{self:50===e.columnWidth}},[n("yi-input",t._b({ref:"va",refInFor:!0,class:{hide:"orderNo"===e.attr},attrs:{value:e.value,indent:!0,selData:e.selData||null,clearMR:50===e.columnWidth},on:{"update:value":function(n){t.$set(e,"value",n)},onCarModel:t.onCarModel,onGetName:t.onGetName},model:{value:e.text,callback:function(n){t.$set(e,"text",n)},expression:"item.text"}},"yi-input",e,!1))],1)]}),t._v(" "),n("div",{staticClass:"space-box"})],2)])],1),t._v(" "),n("yi-btn-box",{attrs:{name:t.btnName},on:{onBtnClick:t.onBtnClick}})],1)};w._withStripped=!0;var h={render:w,staticRenderFns:[]},k=h;var y=!1;var D=n("VU/8")(g,k,!1,function(t){y||n("yMiA")},"data-v-6cbbcc5e",null);D.options.__file="src\\modules\\order\\add\\index.vue";e.default=D.exports},yMiA:function(t,e,n){var a=n("BO1g");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("c51dc38e",a,!1,{})}});